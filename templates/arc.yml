tosca_definitions_version: tosca_simple_yaml_1_0

imports:
# to be changed after merging
#  - grycap_custom_types: https://raw.githubusercontent.com/grycap/tosca/main/custom_types.yaml
  - grycap_custom_types: https://raw.githubusercontent.com/sebastian-luna-valero/tosca-upv/arc/custom_types.yaml

description: Deploy a ARC alongside a Slurm cluster

metadata:
  template_version: "1.0.0"
  template_name: ARC
  display_name: Deploy a ARC in front of a Slurm cluster
  icon: images/ARC.png
  parents:
    - slurm_cluster.yml

topology_template:
  inputs:

  node_templates:

    arc_fe:
      type: tosca.nodes.indigo.ARCfe
      requirements:
      - lrms: lrms_front_end
      - host: lrms_server

    arc_wn:
      type: tosca.nodes.indigo.ARCwn
      requirements:
      - host: lrms_wn

  outputs:
